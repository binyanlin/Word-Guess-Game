<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./../css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container-fluid text-light" Id="mcub">

    <header>
        <h1 class="display-3 text-center my-4 py-4 bg-danger header">MARVEL Hangman</h1>
    </header>

    <br>
        <div class="container mt-2 main">
            <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-3">
                    <h1>Wins: <span id="wins">0</span></h1>
                </div>
                <div class="col-sm-3">
                    <h1>Tries left: <span id="triesLeft">15<span></h1>
                </div>
                <div class="col-sm-3"></div>
            </div>

            <br>

            <div class="row ">
                <div class="col-sm-2"></div>
                <div class="col-sm-8">
                    <h1 class="display-1 my-4" id="display"></h1>
                </div>
                <div class="col-sm-2"></div>
            </div>
            
            <div class="row">
                <h1 id="comment"></h1>
            </div>
            
            <div class="row">
                <div class="col-sm-2">
                    <h1 id="input"></h1>
                </div>
                <div class="col-sm-10">
                    <h1 id="guessDisplay"></h1>
                </div>
            </div>
                
        </div>
    </div>

<script>
// pseudo code: marvel universe theme

// variables
// var for wins
var wins = 0;
// var for array of marvel words 
var mahvel2 = ["cryostasis", "cyborg", "dendrotoxin", "gravitonium", "hadron", "neodynium", "palladium", "singularity", "spoiler", "vibranium", "thanos", "danvers", "bucky", "groot", "valkyrie"];
// var for testing
var mahvel = ["bear", "cat", "squid", "donkey"];
// var array of letters already picked
var guesses = [];
// var for counting amount of tries left 
var triesLeft = 15;
// var for target word
var targetWord;
// var for user guess
var userGuess;
// var for word displayed
var wordDisplay = [];
// var for guess log
var guessLog = [];
var alphabet = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

var $wins = document.getElementById("wins");
var $wordDisplay = document.getElementById("display");
var $comment = document.getElementById("comment");
var $input = document.getElementById("input");
var $guessDisplay = document.getElementById("guessDisplay");
var $triesLeft = document.getElementById("triesLeft")

//computer checks that it is a letter 
var isLetter = function(c) {
    return c.length === 1 && (c.toLowerCase() != c.toUpperCase()); 
}
//function for resetting the game to the start 
var gameLoop = function() {
    targetWord = mahvel[Math.floor(Math.random()*mahvel.length)]
    guessLog = [];
    guesses = [];
    triesLeft = 15;
    $guessDisplay.textContent = "";
    updateText();
}
//checks tries left and game ending conditions
var checkGameEnd = function() {
    if (triesLeft === 0) {
        $comment.textContent = "You lose! Press any letter to try again.";
        updateText();
        // Make a button to display on win or lose that runs gameLoop();
        // gameLoop();
    }
    else if (wordDisplay.indexOf("_ ") === -1) {
        $comment.textContent = "You win! Press any letter to try again.";
        wins++;
        updateText();
        // gameLoop();
        
    }

}
//displays all the previous guesses, non repeating
var displayGuesses = function() {
    for (var i = 0; i < alphabet.length; i++) {
        $guessDisplay.textContent = guesses;
    }
}
//update all text function
var updateText = function() {
    wordDisplayMaker();
    displayGuesses();
    $triesLeft.textContent = triesLeft;
    $wins.textContent = wins;
}
//function for checking if the guess is part of the currently selected word
var guessIsCorrect = function(c) {
    if (targetWord.indexOf(c) > -1) {
        return true;
    }
    else {
        return false;
    }
}
// game start conditions: maybe a press any button option?
// computer picks a word, displays _ _ _ _ on screen
var targetWord = mahvel[Math.floor(Math.random()*mahvel.length)];
var wordDisplayMaker = function() {
    wordDisplay = [];
    for (var i = 0; i<targetWord.length; i++) {
        var targetCharacter = targetWord.charAt(i);
        if (guesses.indexOf(targetCharacter) > -1) {
            wordDisplay.push(targetCharacter);
        }
        else {
            wordDisplay.push("_ ");
        }
    }
    $wordDisplay.textContent = wordDisplay;
}
// prints out display of how many letters in the target word

updateText();

// event that happens when a key is pressed
document.onkeyup = function(event) {
    var userGuess = event.key;
    //if the guess is a letter
    if (isLetter(userGuess)) {
        $input.textContent = userGuess;
        // if not guessed before 
        if (guesses.indexOf(userGuess) < 0) {
            // add their guess to list of guesses
            guesses.push(userGuess);
            // decrease tries left by 1
            if (!guessIsCorrect(userGuess)) {
                triesLeft--;
                updateText();
            }
            updateText();
        }
        updateText();
    }
    checkGameEnd();
}





</script>


</body>
</html>